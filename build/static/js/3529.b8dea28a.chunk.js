"use strict";(self.webpackChunkDelivery_App=self.webpackChunkDelivery_App||[]).push([[3529],{4134:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(70885),s=n(72791),c=n(78983),i=n(7692),o=n(16856),a=n(17425),l=n(36036),u=n(16871),d=n(43504),f=n(59434),m=n(43774),x=n(70828),p=n(80184),h=function(){var e=(0,f.I0)(),t=(0,f.v9)((function(e){return e.route})),n=t.confirmMessage,r=t.deleteId,s=function(){e((0,m.d6)()),e((0,m.dl)(null))};return(0,p.jsxs)(c.Tk,{alignment:"center",visible:n,children:[(0,p.jsxs)(c.PO,{className:"rounded-top",children:[(0,p.jsx)(c.fl,{}),(0,p.jsx)(x.sQZ,{className:"text-danger cursor fs-5 me-2",onClick:s})]}),(0,p.jsx)(c.sD,{className:"confirmCardText fs-6 w-100 d-flex justify-content-center",children:"Do you really want to delete this record?"}),(0,p.jsxs)(c.Ym,{children:[(0,p.jsx)(c.u5,{color:"secondary",onClick:s,children:"No"}),(0,p.jsx)(c.u5,{color:"info",className:"text-white",type:"submit",onClick:function(){e((0,m.bd)(r)),e((0,m.d6)())},children:"Yes"})]})]})},j=n(4942),v=n(48639),y=function(){var e,t=(0,f.I0)(),n=(0,f.v9)((function(e){return e.route})),i=n.openAssignDriver,o=n.orderNumber,a=n.availbleDriver,l=(0,s.useState)(null),u=(0,r.Z)(l,2),d=u[0],h=u[1],y=null===d||void 0===d?void 0:d.value,g=[],b=null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.all_avaialable_drivers;null===b||void 0===b||b.forEach((function(e){g.push((0,j.Z)({value:"".concat(e.user.first_name," ").concat(e.user.last_name),label:"".concat(e.user.first_name," ").concat(e.user.last_name)},"value",e.userId))})),(0,s.useEffect)((function(){t((0,m.mu)())}),[]);var N=function(){t((0,m.ec)())};return(0,p.jsxs)(c.Tk,{alignment:"center",visible:i,children:[(0,p.jsxs)(c.PO,{className:"rounded-top",children:[(0,p.jsx)(c.fl,{children:"Select Driver"}),(0,p.jsx)(x.sQZ,{className:"text-danger cursor fs-5 me-2",onClick:N})]}),(0,p.jsx)(c.sD,{className:"confirmCardText fs-6 w-100 d-flex justify-content-center",children:(0,p.jsx)(v.ZP,{className:"assignDriver-dropdown",classNamePrefix:"Select",isClearable:!0,name:"color",onChange:h,options:g})}),(0,p.jsxs)(c.Ym,{children:[(0,p.jsx)(c.u5,{color:"secondary",onClick:N,children:"No"}),(0,p.jsx)(c.u5,{color:"info",className:"text-white",type:"submit",onClick:function(){t((0,m.I5)({orderNumber:o,userId:y})),y&&t((0,m.ec)())},children:"Assign"})]})]})},g=n(17209),b=n(75985),N=function(){var e,t,n,x,j,v=(0,f.v9)((function(e){return e.route.route})),N=(0,f.v9)((function(e){return e.route})),k=N.currentStatus,w=N.isLoader,O=(0,s.useState)(""),C=(0,r.Z)(O,2),A=C[0],Z=C[1],D=(0,f.I0)(),P=(0,u.TH)().pathname;return(0,s.useEffect)((function(){Z("")}),[P]),(0,p.jsxs)(c.xH,{style:{width:"100"},className:"mb-4",children:[w?(0,p.jsx)(g.Z,{className:"modal-spinner"}):null,(0,p.jsxs)(c.sl,{children:[(0,p.jsx)(c.KB,{className:"d-flex justify-content-end gap-3 mb-4",children:null!==v&&void 0!==v&&null!==(e=v.orderDetails)&&void 0!==e&&e.length?(0,p.jsx)(c.u5,{color:"info",className:"button-size ms-3 d-flex justify-content-center align-items-center",children:(0,p.jsxs)(c.h7,{className:"text-decoration-none text-white",href:"https://delivery-app.softprodigyphp.in/export_routes/".concat(k),download:"filename.csv",children:[(0,p.jsx)(i.MUM,{className:"me-1 button-icon"}),"Export"]})}):(0,p.jsx)(c.u5,{color:"info",className:"button-size ms-3 d-flex justify-content-center align-items-center",onClick:function(){return b.Am.error("No Route found in ".concat(k," "))},children:(0,p.jsxs)(c.h7,{className:"text-decoration-none text-white",children:[(0,p.jsx)(i.MUM,{className:"me-1 button-icon"}),"Export"]})})}),(0,p.jsxs)(c.KB,{className:"d-flex justify-content-between align-items-center w-100 text-center fs-6",children:[(0,p.jsx)(c.KB,{className:"upperData-section",children:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(o.XVK,{className:"text-dark fs-5 me-2"}),null===v||void 0===v||null===(t=v.UpperData)||void 0===t?void 0:t.Pending_Assignment]}),(0,p.jsx)("p",{children:"Pending Assignment"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(o.XVK,{className:"text-dark fs-5 me-2"}),"0"]}),(0,p.jsx)("p",{children:"Pending Assignment"})]})}),(0,p.jsx)(c.KB,{className:"upperData-section",children:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(a.un,{className:"text-dark fs-5 me-2"}),null===v||void 0===v||null===(n=v.UpperData)||void 0===n?void 0:n.Active]}),(0,p.jsx)("p",{children:"Active Orders"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(a.un,{className:"text-dark fs-5 me-2"}),"0"]}),(0,p.jsx)("p",{children:"Active Orders"})]})}),(0,p.jsx)(c.KB,{className:"upperData-section",children:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(l.lKj,{className:"text-dark fs-5 me-2"}),null===v||void 0===v||null===(x=v.UpperData)||void 0===x?void 0:x.Active_Customers]}),(0,p.jsx)("p",{children:"Active Customer"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(l.lKj,{className:"text-dark fs-5 me-2"}),"0"]}),(0,p.jsx)("p",{children:"Active Customer"})]})}),(0,p.jsx)(c.KB,{className:"upperData-section",children:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(l.lKj,{className:"text-dark fs-5 me-2"}),null===v||void 0===v||null===(j=v.UpperData)||void 0===j?void 0:j.Active_Agents]}),(0,p.jsx)("p",{children:"Active Agents"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"text-dark fs-6 ms-1 d-flex align-items-center justify-content-center",children:[(0,p.jsx)(l.lKj,{className:"text-dark fs-5 me-2"}),"0"]}),(0,p.jsx)("p",{children:"Active Agents"})]})})]}),(0,p.jsxs)(c.KB,{className:"d-flex mt-5 justify-content-between align-items-center",children:[(0,p.jsxs)(c.KB,{className:"mt-3",children:[(0,p.jsx)(d.OL,{className:function(e){return e.isActive?"activeLink   fs-6 text-decoration-none text-black font-weight-bold":"normalLink   fs-6"},to:"/dispatcher/route/pending",onClick:function(){return D((0,m.sQ)("pending"))},children:"Pending"}),(0,p.jsx)(d.OL,{className:function(e){return e.isActive?"activeLink ms-4 fs-6 text-decoration-none text-black font-weight-bold":"normalLink ms-4 fs-6"},to:"/dispatcher/route/active",onClick:function(){return D((0,m.sQ)("active"))},children:"Active"}),(0,p.jsx)(d.OL,{className:function(e){return e.isActive?"activeLink ms-4 fs-6 text-decoration-none text-black font-weight-bold":"normalLink ms-4 fs-6"},to:"/dispatcher/route/history",onClick:function(){return D((0,m.sQ)("delivered"))},children:"History"})]}),(0,p.jsx)(c.KB,{className:"d-flex justify-content-end align-items-center w-75",children:(0,p.jsx)(c.jO,{type:"search",maxLength:100,className:"w-75 border border-dark",placeholder:"Search by Customer Name...",value:A,onChange:function(e){D((0,m.HG)({currentStatus:k,name:e.target.value.trim()})),Z(e.target.value)}})})]}),(0,p.jsx)(u.j3,{})]}),(0,p.jsx)(h,{}),(0,p.jsx)(y,{})]})}},89983:function(e,t,n){n.d(t,{w_:function(){return l}});var r=n(72791),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=r.createContext&&r.createContext(s),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function a(e){return e&&e.map((function(e,t){return r.createElement(e.tag,i({key:t},e.attr),a(e.child))}))}function l(e){return function(t){return r.createElement(u,i({attr:i({},e.attr)},t),a(e.child))}}function u(e){var t=function(t){var n,s=e.attr,c=e.size,a=e.title,l=o(e,["attr","size","title"]),u=c||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,l,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==c?r.createElement(c.Consumer,null,(function(e){return t(e)})):t(s)}},97326:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15671:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return s}})},27277:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(61120),s=n(78814),c=n(71002),i=n(97326);function o(e,t){if(t&&("object"===(0,c.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}function a(e){var t=(0,s.Z)();return function(){var n,s=(0,r.Z)(e);if(t){var c=(0,r.Z)(this).constructor;n=Reflect.construct(s,arguments,c)}else n=s.apply(this,arguments);return o(this,n)}}},61120:function(e,t,n){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(89611);function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},78814:function(e,t,n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=3529.b8dea28a.chunk.js.map