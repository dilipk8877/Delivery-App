"use strict";(self.webpackChunkDelivery_App=self.webpackChunkDelivery_App||[]).push([[3941],{46966:function(e,r,i){i.d(r,{ld:function(){return b},M3:function(){return m},tl:function(){return h},BT:function(){return g},Dl:function(){return _},r7:function(){return p},fN:function(){return Z},G3:function(){return x},K7:function(){return u},b6:function(){return c},Cp:function(){return y},X8:function(){return f},pj:function(){return v},$2:function(){return N},Sn:function(){return q},tw:function(){return j}});var t=5e6,a=i(76863),s=/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,n=["","image/jpg","image/jpeg","image/png"],l=["text/csv"],o=/^[a-zA-Z]*$/,d=/^[a-zA-Z0-9_]*$/,u=a.Ry({teamId:a.Z_().required("Please Select Team Id, It is required"),type:a.Z_().required("Please Select Agent Type, It is required"),first_name:a.Z_().required("First Name is required").trim("First Name is required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Last Name is required").trim("Last Name is required").matches(o,"Only alphabets are allowed"),email:a.Z_().email("Email must be a valid email").required("Email is required"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number must be exactly 10 digits").max(13,"Phone number must be exactly 10 digits"),website:a.Z_().required("Website is required").trim("Website is required").matches(s,"Enter correct website url!"),dob:a.Z_().required("Please Select DOB, It is required"),plate_number:a.Z_().required("Vehicle Number is required").trim("Vehicle Number is required"),vehicle_type:a.Z_().required("Please Select Vehicle Type, It is required"),delivery_area:a.Z_().required("Delievery Area is required").trim("Delievery Area is required")}),c=a.Ry({maxRadius:a.Z_().required("Max Raduis is Required")}),m=a.Ry({geofencing_name:a.Z_().required("Geo Fence Name is Required"),location:a.Z_().required("Location is Required, and Assign Area to Team"),teamName:a.Z_().required("Select Team Name, It is Required"),coordinates:a.IX().required("Assign Area to Team")}),h=a.Ry({first_name:a.Z_().required("First Name is required").trim("First Name is required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Last Name is required").trim("Last Name is required").matches(o,"Only alphabets are allowed"),email:a.Z_().email("Email must be a valid email").required("Email is required").trim("Email is required"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number must be exactly 10 digits").max(13,"Phone number must be exactly 10 digits"),status:a.Z_().required("Please Select Status, It's required")}),p=a.Ry({name:a.Z_().required("Name is Required").trim("Name is Required"),geoFenceId:a.Z_().required("Please Select Geo Fence").nullable(),teamId:a.Z_().required("Please Select Team Name").nullable(),agentVehicle:a.Z_().required("Please Select Vehicle Type").nullable(),basePrice:a.Z_().required("Base Price is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Base Price must be only number").min(0,"Base Price must be exactly 0 digits").max(4,"Base Price must be exactly 4 digits"),baseDuration:a.Z_().required("Base Duration is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Base Duration must be only number").min(0,"Base Duration must be exactly 0 digits").max(4,"Base Duration must be exactly 4 digits"),baseDistance:a.Z_().required("Base Distance is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Base Distance must be only number").min(0,"Base Distance must be exactly 0 digits").max(4,"Base Distance must be exactly 4 digits"),DurationPrice:a.Z_().required("Duration Price is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Duration Price must be only number").min(0,"Duration Price must be exactly 0 digits").max(4,"Duration Price must be exactly 4 digits"),DistanceFee:a.Z_().required("Distance Fee is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Distance Fee must be only number").min(0,"Distance Fee must be exactly 0 digits").max(4,"Distance Fee must be exactly 4 digits"),agentCommPercnt:a.Z_().required("Agent Commission Percentage is Required").test("Is positive?","The number must be greater than 0!",(function(e){return e>0})).matches(/^[0-9]+$/,"Agent Commission Percentage must be only number").min(0,"Agent Commission Percentage must be exactly 0 digits").max(4,"Agent Commission Percentage must be exactly 4 digits")}),x=a.Ry({team_name:a.Z_().required("Team Name is required").trim("Team Name is required"),team_tag:a.Z_().required("Team tag is required").trim("Team tag is required")}),b=a.Ry({first_name:a.Z_().required("First Name is required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Last Name is required").matches(o,"Only alphabets are allowed"),email:a.Z_().email("Email must be a valid email").required("Email is required"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number Must be exactly 10 digits").max(13,"Phone number Must be exactly 10 digits")}),q=a.Ry({first_name:a.Z_().required("First Name is required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Last Name is required").matches(o,"Only alphabets are allowed"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number must be exactly 10 digits").max(13,"Phone number must be exactly 10 digits").required("Phone number is required")}),y=a.Ry({file:a.nK().required(" File is required").test("type","You can upload only CSV file",(function(e){return e&&l.includes(e.type)}))}),g=a.Ry({first_name:a.Z_().required("First Name is required").trim("First Name is required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Last Name is required").trim("Last Name is required").matches(o,"Only alphabets are allowed"),email:a.Z_().email("Email must be a valid email").required("Email is required"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number must be exactly 10 digits").max(13,"Phone number must be exactly 10 digits"),pincode:a.Z_().required("Pincode is required").matches(/^[0-9]+$/,"Pincode must be only number").min(6,"Pincode must be exactly 6 digits").max(6,"Pincode must be exactly 6 digits"),address:a.Z_().required("Address is required").trim("Address is required"),website:a.Z_().required("Website is required").trim("Website is required").matches(s,"Enter correct website url!"),state:a.Z_().required("State is required"),district:a.Z_().required("District is required"),country:a.Z_().required("Country is required")}),f=a.Ry({file:a.nK().required("File is required").test("type","You can upload only CSV file",(function(e){return e&&l.includes(e.type)}))}),_=a.Ry({name:a.Z_().required("Banner Name is Required").trim("Banner Name is Required"),startDate:a.Z_().required("Start Date is Required"),endDate:a.Z_().required("End Date is Required"),bannerImages:a.nK().required(" File is required").test("file_size","File Size is too large",(function(e){return e&&e.size<=t})).test("fileFormat","You can upload only jpg,png,jpeg file",(function(e){return e&&n.includes(e.type)}))}),j=a.Ry({name:a.Z_().required("Banner Name is Required").trim("Banner Name is Required"),startDate:a.Z_().required("Start Date is Required"),endDate:a.Z_().required("End Date is Required")}),v=a.Ry({email:a.Z_().required("Email is required"),password:a.Z_().required("Password is required")}),N=a.Ry({profileImage:a.nK().test("file_size","File Size is too large",(function(e){return!e||e.size<=t})).test("fileType","You can upload only jpg,png,jpeg file",(function(e){return!e||["image/jpg","image/jpeg","image/png"].includes(e.type)})),first_name:a.Z_().required("Name is Required").matches(o,"Only alphabets are allowed"),last_name:a.Z_().required("Name is Required").matches(o,"Only alphabets are allowed"),mobile:a.Z_().required("Phone number is required").min(13,"Phone number must be exactly 10 digits").max(13,"Phone number must be exactly 10 digits"),company_address:a.Z_().required("Company Address is Required").trim("Company Address is Required"),company_name:a.Z_().required("Company Name is Required").trim("Company Name is Required").matches(o,"Only alphabets are allowed"),short_code:a.Z_().required("Short Code is Required").min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits").matches(d,"Special Characters not allowed").trim("Short Code is Required"),country:a.Z_().required("Country is Required").trim("Country is Required").matches(o,"Only alphabets are allowed")}),Z=a.Ry({Title:a.Z_().required("Title is required").matches(d,"Special Characters not allowed"),Description:a.Z_().required("Short Description is required"),promo_code:a.Z_().required("Promocode is required").matches(d,"Special Characters not allowed"),Promo_Type:a.Z_().required("Promo type is required"),discount:a.Z_().required("Discount is required").matches(/^[0-9]+$/,"Must be only number").max(2,"Amount should be less than 100"),ExpiryDate:a.Z_().required("Expire Date is required")})},13941:function(e,r,i){i.r(r),i.d(r,{default:function(){return g}});var t=i(72791),a=i(59434),s=i(41142),n=i(56355),l=i(78983),o=i(55705),d=i(70828),u=i(17209),c=i(46966),m=i(80184),h=function(){var e=(0,a.v9)((function(e){return e.promo})),r=e.isModalOpen,i=e.toggleState,t=e.editId,n=e.submitStatus,h=e.initialValue,p=e.isLoader,x=(0,a.I0)(),b=(0,o.TA)({initialValues:{Title:null!==h&&void 0!==h&&h.Title?null===h||void 0===h?void 0:h.Title:"",Description:null!==h&&void 0!==h&&h.Description?null===h||void 0===h?void 0:h.Description:"",promo_code:null!==h&&void 0!==h&&h.promo_code?null===h||void 0===h?void 0:h.promo_code:"",Promo_Type:null!==h&&void 0!==h&&h.Promo_Type?null===h||void 0===h?void 0:h.Promo_Type:"",discount:null!==h&&void 0!==h&&h.discount?null===h||void 0===h?void 0:h.discount:"",ExpiryDate:null!==h&&void 0!==h&&h.ExpiryDate?null===h||void 0===h?void 0:h.ExpiryDate:""},enableReinitialize:!0,validationSchema:c.fN,onSubmit:function(e,r){var i=r.resetForm;"primary"===n?x((0,s.$J)(e)):"secondary"===n&&(x((0,s.ls)({data:e,editId:t})),x((0,s.$I)(""))),i({data:""})}}),q=b.values,y=b.resetForm,g=b.handleBlur,f=b.handleChange,_=b.touched,j=b.errors,v=b.handleSubmit;return(0,m.jsxs)(l.Tk,{size:"lg",scrollable:!0,alignment:"center",visible:r,children:[p?(0,m.jsx)(u.Z,{color:"primary",className:"modal-spinner"}):null,(0,m.jsxs)(l.PO,{className:"rounded-top",children:[i?(0,m.jsx)(l.fl,{children:"Add Promocode"}):(0,m.jsx)(l.fl,{children:"Update Promocode"}),(0,m.jsx)(d.sQZ,{className:"text-danger cursor fs-5 me-2",onClick:function(){x((0,s.Mr)()),x((0,s.lY)()),x((0,s.$I)("")),y()}})]}),(0,m.jsx)(l.sD,{className:"",children:(0,m.jsx)(l.lx,{className:"mt-2",onSubmit:v,children:(0,m.jsxs)(l.rb,{children:[(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Title",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(l.jO,{type:"text",id:"validationServer01",name:"Title",maxLength:50,value:q.Title,onChange:f,onBlur:g}),(0,m.jsx)("div",{className:"error-container",children:_.Title&&j.Title?(0,m.jsx)("span",{className:"validtion-error",children:j.Title}):null})]}),(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Short Description",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(l.jO,{type:"text",id:"validationServer01",value:q.Description,maxLength:200,onBlur:g,name:"Description",onChange:f}),(0,m.jsx)("div",{className:"error-container",children:_.Description&&j.Description?(0,m.jsx)("span",{className:"validtion-error",children:j.Description}):null})]}),(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Promocode",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(l.jO,{type:"text",id:"validationServer01",value:q.promo_code,maxLength:30,onBlur:g,name:"promo_code",onChange:f}),(0,m.jsx)("div",{className:"error-container",children:_.promo_code&&j.promo_code?(0,m.jsx)("span",{className:"validtion-error",children:j.promo_code}):null})]}),(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Promo Type",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsxs)(l.LX,{feedbackInvalid:"Example invalid select feedback",onChange:f,value:q.Promo_Type,onBlur:g,name:"Promo_Type",children:[(0,m.jsx)("option",{children:"Select Promo Type"}),(0,m.jsx)("option",{value:"Percentage",children:"Percentage Discount"})]}),(0,m.jsx)("div",{className:"error-container",children:_.Promo_Type&&j.Promo_Type?(0,m.jsx)("span",{className:"validtion-error",children:j.Promo_Type}):null})]}),(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Discount",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(l.jO,{type:"text",id:"validationServer01",value:q.discount,onBlur:g,name:"discount",onChange:f}),(0,m.jsx)("div",{className:"error-container",children:_.discount&&j.discount?(0,m.jsx)("span",{className:"validtion-error",children:j.discount}):null})]}),(0,m.jsxs)(l.b7,{md:6,className:"mt-2",children:[(0,m.jsxs)("label",{className:"",htmlFor:"validationServer01",children:["Expire Date",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(l.jO,{type:"date",id:"validationServer01",min:function(){var e=new Date,r=String(e.getDate()+1).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"-"+i+"-"+r}(),value:q.ExpiryDate,onBlur:g,name:"ExpiryDate",onChange:f}),(0,m.jsx)("div",{className:"error-container",children:_.ExpiryDate&&j.ExpiryDate?(0,m.jsx)("span",{className:"validtion-error",children:j.ExpiryDate}):null})]}),(0,m.jsx)(l.b7,{md:12,className:"d-flex justify-content-center",children:i?(0,m.jsx)(l.u5,{type:"submit",color:"info",className:"w-25 mt-3 text-white",onClick:function(){return x((0,s.Rz)())},children:"Submit"}):(0,m.jsx)(l.u5,{type:"submit",color:"info",className:"w-25 mt-3 text-white",onClick:function(){return x((0,s.c0)())},children:"Update"})})]})})})]})},p=i(72426),x=i.n(p),b=i(39126),q=i(79985),y=function(){var e=(0,a.I0)(),r=(0,a.v9)((function(e){return e.promo})),i=r.isOpenConfirmMessage,t=r.deleteId,n=function(){e((0,s.A_)()),e((0,s.De)(null))};return(0,m.jsxs)(l.Tk,{alignment:"center",visible:i,children:[(0,m.jsxs)(l.PO,{className:"rounded-top",children:[(0,m.jsx)(l.fl,{}),(0,m.jsx)(d.sQZ,{className:"text-danger cursor fs-5 me-2",onClick:n})]}),(0,m.jsx)(l.sD,{className:"confirmCardText fs-6 w-100 d-flex justify-content-center",children:"Do you really want to delete this record?"}),(0,m.jsxs)(l.Ym,{children:[(0,m.jsx)(l.u5,{color:"secondary",onClick:n,children:"No"}),(0,m.jsx)(l.u5,{color:"info",className:"text-white",type:"submit",onClick:function(){e((0,s.W7)(t)),e((0,s.A_)())},children:"Yes"})]})]})},g=function(){var e=(0,a.v9)((function(e){return e.promo})),r=e.promos,i=e.isLoader,o=(0,a.I0)();(0,t.useEffect)((function(){o((0,s.yn)())}),[]);var d=(0,t.useMemo)((function(){return[{Header:"Promo Code",accessor:"promo_code"},{Header:"Title",accessor:"Title"},{Header:"Description",accessor:"Description"},{Header:"Promo Types",accessor:"Promo_Type"},{Header:"Discount(%)",accessor:function(e){return(0,m.jsx)("span",{children:Number(e.discount.toLocaleString("en-US"))})}},{Header:"Expiry Date",accessor:function(e){return x()(e.ExpiryDate).local().format("DD-MM-YYYY")}},{Header:"Action",disableSortBy:!0,accessor:function(e){return(0,m.jsxs)(l.KB,{className:"d-flex justify-content-start align-items-center ps-0 gap-1",children:[(0,m.jsx)(n.fmQ,{className:"cursor",title:"Update Promocode",onClick:function(){return r=e,o((0,s.py)()),o((0,s.gJ)(r.id)),o((0,s.al)(!1)),void o((0,s.$I)(r));var r}})," ",(0,m.jsx)(n.Xm5,{className:"ms-2 cursor",title:"Delete Promocode",onClick:function(){return r=e.id,o((0,s.De)(r)),void o((0,s.z2)());var r}})]})}}]}),[]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.xH,{className:"p-3",children:[i?(0,m.jsx)(u.Z,{color:"primary",className:"modal-spinner"}):null," ",(0,m.jsx)(l.KB,{className:"d-flex justify-content-end mb-2",children:(0,m.jsxs)(l.u5,{className:"button-size d-flex justify-content-center align-items-center text-white",color:"info",onClick:function(){return o((0,s.h7)())},children:[(0,m.jsx)(b.Y_C,{className:"me-1 button-icon"}),"Add"]})}),(0,m.jsx)(l.xH,{className:"mt-3",children:r&&(0,m.jsx)(q.Z,{data:(null===r||void 0===r?void 0:r.promoList)||[],columns:d})}),(0,m.jsx)(h,{}),(0,m.jsx)(y,{})]})})}},79985:function(e,r,i){var t=i(1413),a=i(72791),s=i(71358),n=i(39126),l=i(59434),o=i(80184);r.Z=function(e){var r=e.data,i=e.columns,d=(0,l.v9)((function(e){return e.users})),u=d.searchField,c=(0,s.useTable)({columns:i,data:r,autoResetPage:!1,initialState:{pageIndex:0,pageSize:10}},s.useGlobalFilter,s.useSortBy,s.usePagination),m=c.getTableProps,h=c.getTableBodyProps,p=c.headerGroups,x=c.page,b=c.prepareRow,q=(c.state,c.canPreviousPage),y=c.canNextPage,g=c.pageOptions,f=c.gotoPage,_=c.nextPage,j=c.previousPage,v=c.pageCount,N=c.state,Z=N.pageIndex;N.pageSize;return(0,a.useEffect)((function(){f(0)}),[u]),(0,a.useEffect)((function(){(null===r||void 0===r?void 0:r.length)%10===0&&j()}),[r]),(0,a.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"instant"})}),[Z]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("table",(0,t.Z)((0,t.Z)({},m()),{},{className:"category-table",children:[(0,o.jsx)("thead",{className:"category-table-head",children:p.map((function(e,r){return(0,a.createElement)("tr",(0,t.Z)((0,t.Z)({},e.getHeaderGroupProps()),{},{key:r}),e.headers.map((function(e,r){return(0,o.jsxs)("th",{children:[e.render("Header"),(0,o.jsx)("span",(0,t.Z)((0,t.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:!e.disableSortBy&&(e.isSorted?e.isSortedDesc?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.CSs,{className:"arrow-down"}),(0,o.jsx)(n.HTv,{})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.CSs,{}),(0,o.jsx)(n.HTv,{className:"arrow-down"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.HTv,{}),(0,o.jsx)(n.CSs,{})]}))}))]},r)})))}))}),(0,o.jsx)("tbody",(0,t.Z)((0,t.Z)({},h()),{},{className:"category-table-body",children:0!==r.length?x.map((function(e,r){return b(e),(0,a.createElement)("tr",(0,t.Z)((0,t.Z)({className:"th-table"},e.getRowProps()),{},{key:r}),e.cells.map((function(e,r){return(0,a.createElement)("th",(0,t.Z)((0,t.Z)({className:"th-table-data"},e.getCellProps()),{},{key:r}),e.render("Cell"))})))})):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:i.length,children:" No record found"})})}))]}))}),(null===r||void 0===r?void 0:r.length)>10?(0,o.jsxs)("div",{className:"pagination-button",children:[(0,o.jsx)("button",{onClick:function(){return f(0)},disabled:0===Z,children:"<<"})," ",(0,o.jsx)("button",{onClick:function(){return j()},disabled:!q,children:"<"}),(0,o.jsxs)("strong",{className:"me-2",children:[Z+1," of ",g.length]})," ",(0,o.jsx)("button",{onClick:function(){return _()},disabled:!y,children:">"}),(0,o.jsx)("button",{onClick:function(){return f(v-1)},disabled:Z===v-1,children:">>"})," "]}):""]})}}}]);
//# sourceMappingURL=3941.597c6dae.chunk.js.map