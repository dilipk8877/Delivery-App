{"version":3,"file":"static/js/4436.bfb2b31f.chunk.js","mappings":"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","sources":["dispatcherPanel/views/Route/route/ActiveRoute.js","views/ReactTable/ReactTable.js"],"sourcesContent":["import React,{useMemo} from \"react\";\nimport {\n  CCard,\n  CCardBody,\n} from \"@coreui/react\";\nimport { MdOutlineRemoveRedEye } from \"react-icons/md\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getRoutes, setCurrentPage, setCurrentStatus } from \"src/features/Route/RouteSlice\";\nimport { useEffect } from \"react\";\nimport ReactTable from \"../../../../views/ReactTable/ReactTable\";\nimport {BiRupee } from \"react-icons/bi\"\nimport { useNavigate } from \"react-router-dom\";\n\nconst ActiveRoute = () => {\n  const route = useSelector((state) => state.route.route);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getRoutes(\"active\"));\n    dispatch(setCurrentStatus(\"active\"))\n    dispatch(setCurrentPage(\"active\"))\n  }, []);\n\n  const navigate = useNavigate();\n const handleRouteId = (id) => {\n    navigate(`/dispatcher/viewRoute/${id}`);\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Header: \"Order Number\",\n        accessor: \"orderNumber\",\n\n      },\n      {\n        Header: \"Customer Name\",\n        accessor:d=>{\n          return(\n            <span>\n              {d.user.first_name === \"\" ? \"--\" : <span>{d.user.first_name} {d.user.last_name}</span>}\n            </span>\n          )\n        }\n      },\n      {\n        Header: \"Phone\",\n        accessor:d=>{\n          return(\n            <span>\n              {d.user.mobile === \"\" ? \"--\" : <span>{d.user.mobile}</span>}\n            </span>\n          )\n        }\n      },\n      {\n        Header: \"Driver\",\n        accessor: (d) => {\n          return <span>{d.driver === null ? \"--\" : <span>{d.driver}</span>}</span>;\n        },\n      },\n      {\n        Header: \"Due time\",\n          accessor: (d) => {\n            return <span>{d.pickupDate === null ? \"--\" : <span>{d.pickupDate}</span>}</span>;\n          },\n      },\n      {\n        Header: \"Amount\",\n        accessor:d=>{\n          return(\n            <span><BiRupee/>{d?.price.toLocaleString(\"en-US\")}</span>\n          )\n        }\n      },\n      {\n        Header: \"Action\",\n        disableSortBy: true,\n        accessor: (d) => {\n          return (\n            <CCardBody className=\"d-flex justify-content-start align-items-center ps-0 gap-2\">\n                <MdOutlineRemoveRedEye\n                  className=\"cursor fs-6\"\n                  title=\"Preview Active Route\"\n                  onClick={() => handleRouteId(d.id)}\n                />\n            </CCardBody>\n          );\n        },\n      },\n    ],\n    []\n  );\n  return (\n    <>\n     <CCard className=\"mt-4\">\n        {true && (\n          <ReactTable data={route?.orderDetails || []} columns={columns} />\n        )}\n      </CCard>\n    </>\n  );\n};\n\nexport default ActiveRoute;\n","import React, { useEffect } from \"react\";\nimport {\n  useSortBy,\n  useTable,\n  usePagination,\n  useGlobalFilter,\n} from \"react-table\";\nimport { BsArrowDown, BsArrowUp } from \"react-icons/bs\";\nimport { useSelector } from \"react-redux\";\n\nconst ReactTable = ({ data, columns }) => {\n  const {searchField} = useSelector((state)=>state.users)\n  const tableInstance = useTable(\n    {\n      columns,\n      data,\n      autoResetPage: false,\n      initialState: { pageIndex: 0, pageSize: 10 },\n    },\n    useGlobalFilter,\n    useSortBy,\n    usePagination,\n  );\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    page,\n    prepareRow,\n    state,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    nextPage,\n    previousPage,\n    pageCount,\n    state: { pageIndex, pageSize },\n  } = tableInstance;\n\n  useEffect(()=>{\n    gotoPage(0)\n  },[searchField])\n\n  useEffect(()=>{\n    if(data?.length % 10 ===0){\n      previousPage()\n    }\n  },[data])\n\n  useEffect(() => {\n    window.scrollTo({top: 0, left: 0, behavior: 'instant'});\n  }, [pageIndex]);\n  \n  return (\n    <>\n      <div>\n        <table {...getTableProps()} className=\"category-table\">\n          <thead className=\"category-table-head\">\n            {headerGroups.map((headerGroups, index) => (\n              <tr {...headerGroups.getHeaderGroupProps()} key={index}>\n                {headerGroups.headers.map((columns,index) => (\n                  <th key={index}>\n                    {columns.render(\"Header\")}\n                    <span {...columns.getHeaderProps(columns.getSortByToggleProps())}>\n                    {!columns.disableSortBy &&\n                      (columns.isSorted ? (\n                        columns.isSortedDesc ? (\n                          <>\n                          <BsArrowDown className=\"arrow-down\" />\n                          <BsArrowUp />\n                          </>\n                        ) : (\n                          <>\n                          <BsArrowDown />\n                          <BsArrowUp className=\"arrow-down\" />\n                          </>\n                        )\n                      ) : (\n                        <>\n                          <BsArrowUp />\n                          <BsArrowDown />\n                        </>\n                      ))}\n                    </span>\n                  </th>\n                ))}\n              </tr>\n            ))}\n          </thead>\n          <tbody {...getTableBodyProps()} className=\"category-table-body\">\n            {data.length !== 0 ? (\n              page.map((row,index) => {\n                prepareRow(row);\n                return (\n                  <tr className=\"th-table\" {...row.getRowProps()} key={index}>\n                    {row.cells.map((cell, index) => {\n                      return (\n                        <th className=\"th-table-data\" {...cell.getCellProps()} key={index}>{cell.render(\"Cell\")}</th>\n                      );\n                    })}\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <td colSpan={columns.length}> No record found</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      {data?.length > 10 ? (\n        <div className=\"pagination-button\">\n          <button onClick={() => gotoPage(0)} disabled={pageIndex === 0}>\n          {'<<'}\n        </button>{' '}\n          <button onClick={() => previousPage()} disabled={!canPreviousPage}>\n           {'<'}\n          </button>\n          <strong className=\"me-2\">\n              {pageIndex + 1} of {pageOptions.length}\n            </strong>{\" \"}\n          <button onClick={() => nextPage()} disabled={!canNextPage}>\n            {'>'}\n          </button>\n          <button\n          onClick={() => gotoPage(pageCount - 1)}\n          disabled={pageIndex === pageCount - 1}\n        >\n          {'>>'}\n        </button>{' '}\n        </div>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nexport default ReactTable;\n"],"names":["route","useSelector","state","dispatch","useDispatch","useEffect","getRoutes","setCurrentStatus","setCurrentPage","navigate","useNavigate","columns","useMemo","Header","accessor","d","user","first_name","last_name","mobile","driver","pickupDate","price","toLocaleString","disableSortBy","className","title","onClick","id","data","orderDetails","users","searchField","tableInstance","useTable","autoResetPage","initialState","pageIndex","pageSize","useGlobalFilter","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","page","prepareRow","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","pageCount","length","window","scrollTo","top","left","behavior","map","index","getHeaderGroupProps","key","headers","render","getHeaderProps","getSortByToggleProps","isSorted","isSortedDesc","row","getRowProps","cells","cell","getCellProps","colSpan","disabled"],"sourceRoot":""}